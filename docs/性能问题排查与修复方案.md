# æ€§èƒ½é—®é¢˜æ’æŸ¥ä¸ä¿®å¤æ–¹æ¡ˆ - åˆ·æ–°å˜å¡é—®é¢˜

> **é—®é¢˜**: åˆ·æ–°å‡ æ¬¡æˆ–æ‰“å¼€å…³é—­ç½‘é¡µå‡ æ¬¡ä¼šå˜å¡  
> **åŸå› **: å¤šä¸ªèµ„æºæ³„æ¼ç‚¹  
> **ä¸¥é‡æ€§**: ğŸ”´ ä¸¥é‡ï¼ˆå½±å“ç”¨æˆ·ä½“éªŒï¼‰

---

## ğŸ” é—®é¢˜åˆ†æ

### ç—‡çŠ¶

- åˆ·æ–° 3-5 æ¬¡åé¡µé¢å˜å¡
- æ‰“å¼€å…³é—­ç½‘é¡µå¤šæ¬¡åå“åº”å˜æ…¢
- å¯èƒ½å‡ºç°å†…å­˜å ç”¨æŒç»­å¢é•¿

### å…¸å‹çš„å†…å­˜æ³„æ¼è¡¨ç°

```
ç¬¬ 1 æ¬¡åˆ·æ–°: æµç•… âœ…
ç¬¬ 2 æ¬¡åˆ·æ–°: æµç•… âœ…
ç¬¬ 3 æ¬¡åˆ·æ–°: ç•¥å¡ ğŸŸ¡
ç¬¬ 4 æ¬¡åˆ·æ–°: æ˜æ˜¾å¡é¡¿ ğŸ”´
ç¬¬ 5 æ¬¡åˆ·æ–°: ä¸¥é‡å¡é¡¿ ğŸ”´
```

---

## ğŸš¨ å‘ç°çš„æ³„æ¼ç‚¹

### æ³„æ¼ç‚¹ 1: å¹¿å‘Šè½®æ’­çš„ setTimeout æœªæ¸…ç† ğŸ”´

**æ–‡ä»¶**: `components/advertisement/ad-carousel.tsx`

**é—®é¢˜ä»£ç **ï¼ˆç¬¬ 154-175 è¡Œï¼‰ï¼š

```typescript
const fetchAdvertisements = useCallback(async () => {
  // å»¶è¿Ÿå‘é€è¯·æ±‚
  setTimeout(() => {
    sendMessage(toolRequest);
  }, 500);  // âŒ è¿™ä¸ª setTimeout æ²¡æœ‰æ¸…ç†ï¼
  
  // è®¾ç½®è¶…æ—¶
  setTimeout(() => {
    if (isLoading) {
      console.error('âŒ å¹¿å‘Šåˆ—è¡¨è¯·æ±‚è¶…æ—¶');
      setIsLoading(false);
    }
  }, 8000);  // âŒ è¿™ä¸ª setTimeout ä¹Ÿæ²¡æœ‰æ¸…ç†ï¼
}, [sendMessage, isLoading]);
```

**é—®é¢˜**ï¼š
- æ¯æ¬¡åˆ·æ–°éƒ½ä¼šåˆ›å»ºæ–°çš„å®šæ—¶å™¨
- å®šæ—¶å™¨å¼•ç”¨çš„é—­åŒ…ä¼šæŒæœ‰ç»„ä»¶çŠ¶æ€
- å®šæ—¶å™¨ä¸ä¼šéšç»„ä»¶å¸è½½è€Œæ¸…é™¤
- **ç´¯ç§¯æ•ˆåº”**: åˆ·æ–° 5 æ¬¡ = 10 ä¸ªæœªæ¸…ç†çš„å®šæ—¶å™¨ï¼

**å½±å“**ï¼š
- ğŸ”´ å†…å­˜æ³„æ¼ï¼ˆæ¯æ¬¡æ³„æ¼ ~5KBï¼‰
- ğŸ”´ å®šæ—¶å™¨ç»§ç»­æ‰§è¡Œï¼ˆå¯èƒ½è§¦å‘å·²å¸è½½ç»„ä»¶çš„ setStateï¼‰
- ğŸ”´ å¯èƒ½å¯¼è‡´æ§åˆ¶å°è­¦å‘Šå’Œé”™è¯¯

---

### æ³„æ¼ç‚¹ 2: adAudioMonitor å›è°ƒå¯èƒ½é‡å¤æ·»åŠ  ğŸŸ¡

**æ–‡ä»¶**: `components/advertisement/ad-carousel.tsx`

**é—®é¢˜ä»£ç **ï¼ˆç¬¬ 390-414 è¡Œï¼‰ï¼š

```typescript
useEffect(() => {
  if (isAudioMode && enableAudioWithVAD) {
    const handleAudioUpdate = (info: AdAudioInfo) => {
      setAudioInfo(info);
      
      if (info.isPlaying !== audioInfo.isPlaying) {
        sendMessage({...});  // â† è¿™ä¸ªå›è°ƒå¼•ç”¨äº†å¤–éƒ¨çŠ¶æ€
      }
    };

    adAudioMonitor.addCallback(handleAudioUpdate);
    
    return () => {
      adAudioMonitor.removeCallback(handleAudioUpdate);
    };
  }
}, [isAudioMode, enableAudioWithVAD, audioInfo.isPlaying, sendMessage]);
//                                    ^^^^^^^^^^^^^^^^  â† ä¾èµ–å˜åŒ–ä¼šé‡æ–°è®¢é˜…
```

**é—®é¢˜**ï¼š
- `audioInfo.isPlaying` åœ¨ä¾èµ–æ•°ç»„ä¸­
- æ¯æ¬¡ `audioInfo` å˜åŒ–éƒ½ä¼šé‡æ–°è®¢é˜…
- å¯èƒ½å¯¼è‡´å›è°ƒè¢«å¤šæ¬¡æ·»åŠ 

**å½±å“**ï¼š
- ğŸŸ¡ åŒä¸€ä¸ªå›è°ƒè¢«è°ƒç”¨å¤šæ¬¡
- ğŸŸ¡ æ€§èƒ½ä¸‹é™

---

### æ³„æ¼ç‚¹ 3: äº‹ä»¶ç›‘å¬å™¨å¯èƒ½é‡å¤æ·»åŠ  ğŸŸ¡

**æ–‡ä»¶**: `components/advertisement/ad-carousel.tsx`

**ç¬¬ 236-266 è¡Œ**ï¼š

```typescript
useEffect(() => {
  const handleAdvertisementChange = (event: CustomEvent) => {
    // ... å¤„ç†é€»è¾‘
  };

  window.addEventListener('advertisementListChanged', handleAdvertisementChange);
  
  return () => {
    window.removeEventListener('advertisementListChanged', handleAdvertisementChange);
  };
}, [isVisible, isConnectionReady, fetchAdvertisements]);
// ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ â† è¿™äº›ä¾èµ–å˜åŒ–ä¼šé‡æ–°æ·»åŠ ç›‘å¬å™¨
```

**é—®é¢˜**ï¼š
- `fetchAdvertisements` åœ¨ä¾èµ–æ•°ç»„ä¸­
- `fetchAdvertisements` ä¾èµ–äº `isLoading`
- å¯èƒ½å¯¼è‡´ç›‘å¬å™¨é‡å¤æ·»åŠ 

---

### æ³„æ¼ç‚¹ 4: video å…ƒç´ äº‹ä»¶ç›‘å¬å™¨æœªæ¸…ç† ğŸ”´

**æ–‡ä»¶**: `components/advertisement/ad-carousel.tsx`

**ç¬¬ 286-372 è¡Œ**ï¼š

```typescript
useEffect(() => {
  const video = videoRef.current;
  if (!video || !isVisible || advertisements.length === 0) return;

  // æ·»åŠ äº‹ä»¶ç›‘å¬å™¨
  video.addEventListener('canplay', startPlayback, { once: true });
  video.addEventListener('loadeddata', handleLoadedData, { once: true });
  video.addEventListener('error', handleError, { once: true });
  
  // âœ… è¿”å›æ¸…ç†å‡½æ•°
  return cleanup;
}, [isVisible, currentIndex, advertisements, isAudioMode, enableAudioWithVAD, sendMessage, baseUrl]);
```

**é—®é¢˜**ï¼š
- è™½ç„¶æœ‰ `{ once: true }`ï¼Œä½†å¦‚æœäº‹ä»¶æœªè§¦å‘
- cleanup å‡½æ•°å¯èƒ½åœ¨äº‹ä»¶ç›‘å¬å™¨æ·»åŠ å‰å°±æ‰§è¡Œäº†
- å¯èƒ½å¯¼è‡´ç›‘å¬å™¨æ®‹ç•™

---

### æ³„æ¼ç‚¹ 5: WebSocket è®¢é˜…ç›‘æ§çš„å®šæ—¶å™¨ ğŸŸ¢

**æ–‡ä»¶**: `services/websocket-handler.tsx`

**ç¬¬ 437-444 è¡Œ**ï¼š

```typescript
const monitorInterval = process.env.NODE_ENV === 'development' 
  ? setInterval(() => {
      const counts = wsService.getSubscriptionCount();
      console.debug('ğŸ“Š è®¢é˜…ç›‘æ§:', counts);
      if (counts.message > 2 || counts.state > 2) {
        console.warn('âš ï¸  æ£€æµ‹åˆ°è®¢é˜…æ³„æ¼ï¼è®¢é˜…æ•°é‡å¼‚å¸¸:', counts);
      }
    }, 30000)  // æ¯30ç§’æ£€æŸ¥
  : null;
```

**è§‚å¯Ÿ**ï¼š
- âœ… æœ‰æ¸…ç†é€»è¾‘ï¼ˆç¬¬ 449-452 è¡Œï¼‰
- âœ… è¿™ä¸ªåŸºæœ¬æ²¡é—®é¢˜

---

## âœ… ä¿®å¤æ–¹æ¡ˆ

### ä¿®å¤ 1: æ¸…ç† setTimeoutï¼ˆé«˜ä¼˜å…ˆçº§ï¼‰

```typescript
// âŒ Before
const fetchAdvertisements = useCallback(async () => {
  setTimeout(() => {
    sendMessage(toolRequest);
  }, 500);  // æœªæ¸…ç†
  
  setTimeout(() => {
    if (isLoading) setIsLoading(false);
  }, 8000);  // æœªæ¸…ç†
}, [sendMessage, isLoading]);

// âœ… After
const fetchAdvertisements = useCallback(async () => {
  const timer1 = setTimeout(() => {
    sendMessage(toolRequest);
  }, 500);
  
  const timer2 = setTimeout(() => {
    if (isLoading) setIsLoading(false);
  }, 8000);
  
  // ä¿å­˜å®šæ—¶å™¨ ID ä»¥ä¾¿æ¸…ç†
  timeoutRefs.current.push(timer1, timer2);
}, [sendMessage, isLoading]);

// åœ¨ç»„ä»¶å¸è½½æ—¶æ¸…ç†
useEffect(() => {
  return () => {
    timeoutRefs.current.forEach(clearTimeout);
    timeoutRefs.current = [];
  };
}, []);
```

---

### ä¿®å¤ 2: ç¨³å®š adAudioMonitor å›è°ƒ

```typescript
// âŒ Before
useEffect(() => {
  const handleAudioUpdate = (info: AdAudioInfo) => {
    setAudioInfo(info);
    if (info.isPlaying !== audioInfo.isPlaying) {  // â† ä¾èµ–å¤–éƒ¨çŠ¶æ€
      sendMessage({...});
    }
  };
  
  adAudioMonitor.addCallback(handleAudioUpdate);
  return () => adAudioMonitor.removeCallback(handleAudioUpdate);
}, [audioInfo.isPlaying, sendMessage]);  // â† ä¾èµ–å˜åŒ–å¯¼è‡´é‡æ–°è®¢é˜…

// âœ… After
const audioInfoRef = useRef(audioInfo);
useEffect(() => { audioInfoRef.current = audioInfo; }, [audioInfo]);

useEffect(() => {
  const handleAudioUpdate = (info: AdAudioInfo) => {
    setAudioInfo(info);
    if (info.isPlaying !== audioInfoRef.current.isPlaying) {  // â† ä½¿ç”¨ ref
      sendMessage({...});
    }
  };
  
  adAudioMonitor.addCallback(handleAudioUpdate);
  return () => adAudioMonitor.removeCallback(handleAudioUpdate);
}, [sendMessage]);  // â† åªä¾èµ–ç¨³å®šçš„å‡½æ•°
```

---

### ä¿®å¤ 3: ä½¿ç”¨ useCallback ç¨³å®šå‡½æ•°å¼•ç”¨

```typescript
// âŒ Before
useEffect(() => {
  const handleChange = (event) => { ... };
  window.addEventListener('advertisementListChanged', handleChange);
  return () => window.removeEventListener('advertisementListChanged', handleChange);
}, [fetchAdvertisements]);  // â† fetchAdvertisements å˜åŒ–å¯¼è‡´é‡æ–°æ·»åŠ 

// âœ… After  
const handleChangeRef = useRef<any>(null);

const handleAdvertisementChange = useCallback((event) => {
  // é€»è¾‘...
}, []);  // â† ç¨³å®šçš„å›è°ƒ

useEffect(() => {
  handleChangeRef.current = handleAdvertisementChange;
}, [handleAdvertisementChange]);

useEffect(() => {
  const handler = (event) => handleChangeRef.current?.(event);
  window.addEventListener('advertisementListChanged', handler);
  return () => window.removeEventListener('advertisementListChanged', handler);
}, []);  // â† ä¸å†é‡å¤æ·»åŠ 
```

---

### ä¿®å¤ 4: ä½¿ç”¨ resourceManager ç»Ÿä¸€ç®¡ç†

```typescript
import { resourceManager } from '@/utils/resource-manager';

export const AdCarousel: React.FC<AdCarouselProps> = memo(() => {
  // âœ… æ³¨å†Œæ‰€æœ‰èµ„æº
  useEffect(() => {
    // æ³¨å†Œå®šæ—¶å™¨
    const timer1 = setTimeout(...);
    const resId1 = resourceManager.registerTimeout(timer1, 'AdCarousel timeout 1');
    
    // æ³¨å†Œäº‹ä»¶ç›‘å¬å™¨
    const handler = () => {...};
    window.addEventListener('customEvent', handler);
    const resId2 = resourceManager.registerEventListener(
      window, 
      'customEvent', 
      handler, 
      'AdCarousel event'
    );
    
    // è‡ªåŠ¨æ¸…ç†
    return () => {
      resourceManager.cleanup(resId1);
      resourceManager.cleanup(resId2);
    };
  }, []);
});
```

---

## ğŸ”§ ç«‹å³å¯æ‰§è¡Œçš„ä¿®å¤

### å¿«é€Ÿä¿®å¤ ad-carousel.tsx

æˆ‘ä¼šå¸®ä½ ä¿®å¤æœ€ä¸¥é‡çš„ setTimeout æ³„æ¼é—®é¢˜ï¼š

```typescript
// åœ¨ç»„ä»¶é¡¶éƒ¨æ·»åŠ 
const timeoutRefsRef = useRef<number[]>([]);

// ä¿®æ”¹ fetchAdvertisements
const fetchAdvertisements = useCallback(async () => {
  try {
    console.log('ğŸ¬ AdCarousel: è¯·æ±‚å¹¿å‘Šåˆ—è¡¨...');
    
    // åˆ·æ–°è¯·æ±‚
    sendMessage({
      type: 'mcp-tool-call',
      tool_name: 'refresh_advertisements',
      arguments: {}
    });
    
    // âœ… ä¿å­˜å®šæ—¶å™¨ ID
    const timer1 = setTimeout(() => {
      sendMessage({
        type: 'mcp-tool-call',
        tool_name: 'get_advertisement_playlist',
        arguments: {}
      });
    }, 500);
    timeoutRefsRef.current.push(timer1);
    
    // âœ… ä¿å­˜è¶…æ—¶å®šæ—¶å™¨ ID
    const timer2 = setTimeout(() => {
      if (isLoading) {
        console.error('âŒ å¹¿å‘Šåˆ—è¡¨è¯·æ±‚è¶…æ—¶');
        setIsLoading(false);
      }
    }, 8000);
    timeoutRefsRef.current.push(timer2);
    
  } catch (error) {
    console.error('âŒ å¹¿å‘Šåˆ—è¡¨è·å–å¤±è´¥:', error);
    setIsLoading(false);
  }
}, [sendMessage, isLoading]);

// âœ… ç»„ä»¶å¸è½½æ—¶æ¸…ç†æ‰€æœ‰å®šæ—¶å™¨
useEffect(() => {
  return () => {
    console.log('ğŸ§¹ AdCarousel: æ¸…ç†æ‰€æœ‰å®šæ—¶å™¨');
    timeoutRefsRef.current.forEach(timer => clearTimeout(timer));
    timeoutRefsRef.current = [];
  };
}, []);
```

---

## ğŸ“Š æ€§èƒ½é—®é¢˜è¯„åˆ†

| é—®é¢˜ | ä¸¥é‡æ€§ | é¢‘ç‡ | å½±å“ |
|------|--------|------|------|
| setTimeout æ³„æ¼ | ğŸ”´ é«˜ | æ¯æ¬¡åˆ·æ–° | å†…å­˜+CPU |
| adAudioMonitor å›è°ƒ | ğŸŸ¡ ä¸­ | çŠ¶æ€å˜åŒ–æ—¶ | CPU |
| äº‹ä»¶ç›‘å¬å™¨é‡å¤ | ğŸŸ¡ ä¸­ | ä¾èµ–å˜åŒ–æ—¶ | å†…å­˜ |
| video ç›‘å¬å™¨ | ğŸŸ¢ ä½ | once:true | å½±å“å° |

---

## ğŸ› ï¸ å®Œæ•´ä¿®å¤è®¡åˆ’

### é˜¶æ®µ 1: ç«‹å³ä¿®å¤ï¼ˆä»Šå¤©ï¼‰

1. **ä¿®å¤ setTimeout æ³„æ¼**ï¼ˆad-carousel.tsxï¼‰
   - æ·»åŠ å®šæ—¶å™¨å¼•ç”¨æ•°ç»„
   - ç»„ä»¶å¸è½½æ—¶æ¸…ç†æ‰€æœ‰å®šæ—¶å™¨
   - é¢„è®¡ä¿®å¤æ—¶é—´: 15 åˆ†é’Ÿ

2. **ç¨³å®š adAudioMonitor å›è°ƒ**
   - ä½¿ç”¨ ref é¿å…é‡å¤è®¢é˜…
   - é¢„è®¡ä¿®å¤æ—¶é—´: 10 åˆ†é’Ÿ

### é˜¶æ®µ 2: æ·±åº¦ä¼˜åŒ–ï¼ˆæœ¬å‘¨ï¼‰

1. **å¯ç”¨ resourceManager**
   - ç»Ÿä¸€èµ„æºç®¡ç†
   - è‡ªåŠ¨æ³„æ¼æ£€æµ‹

2. **å¯ç”¨æ€§èƒ½ç›‘æ§**
   - ç›‘æ§ç»„ä»¶æ¸²æŸ“æ¬¡æ•°
   - ç›‘æ§å†…å­˜ä½¿ç”¨

### é˜¶æ®µ 3: æ€§èƒ½æµ‹è¯•ï¼ˆæœ¬å‘¨ï¼‰

1. å‹åŠ›æµ‹è¯•ï¼ˆåˆ·æ–° 20 æ¬¡ï¼‰
2. å†…å­˜åˆ†æï¼ˆChrome DevToolsï¼‰
3. æ€§èƒ½Profile

---

## ğŸ” å¦‚ä½•éªŒè¯ä¿®å¤

### ä½¿ç”¨ Chrome DevTools

1. **æ‰“å¼€ Performance Monitor**
   - F12 â†’ æ›´å¤šå·¥å…· â†’ Performance monitor
   - è§‚å¯Ÿ JS heap size

2. **åˆ·æ–°æµ‹è¯•**
   - åˆ·æ–° 10 æ¬¡
   - è§‚å¯Ÿå†…å­˜æ˜¯å¦æŒç»­å¢é•¿
   - âœ… æ­£å¸¸ï¼šå†…å­˜åœ¨åˆ·æ–°åå›è½
   - âŒ æ³„æ¼ï¼šå†…å­˜æŒç»­å¢é•¿

3. **Performance Profile**
   - F12 â†’ Performance
   - å½•åˆ¶åˆ·æ–°è¿‡ç¨‹
   - æŸ¥çœ‹å†…å­˜å¿«ç…§
   - åˆ†æä¿ç•™å¯¹è±¡

---

## ğŸ¯ ä¸´æ—¶ç¼“è§£æªæ–½

åœ¨ä¿®å¤å‰ï¼Œç”¨æˆ·å¯ä»¥ï¼š

### 1. å®šæœŸæ¸…ç†ç¼“å­˜

```javascript
// åˆ·æ–° 5 æ¬¡åï¼Œåœ¨æ§åˆ¶å°æ‰§è¡Œ
localStorage.clear();
location.reload();
```

### 2. å…³é—­æ€§èƒ½å¯†é›†åŠŸèƒ½

- æš‚æ—¶å…³é—­å¹¿å‘Šè½®æ’­
- å‡å°‘ä½¿ç”¨æ—¶é—´

### 3. ä½¿ç”¨æ€§èƒ½æ¨¡å¼

å¦‚æœæœ‰æ€§èƒ½å¼€å…³ï¼Œå¯ç”¨å®ƒã€‚

---

## ğŸ“‹ æ£€æŸ¥æ¸…å•

ä½¿ç”¨ä»¥ä¸‹æ¸…å•æ£€æŸ¥ä»£ç ï¼š

### âœ… useEffect æ¸…ç†æ£€æŸ¥

- [ ] æ‰€æœ‰ `setTimeout` éƒ½åœ¨ cleanup ä¸­ `clearTimeout`
- [ ] æ‰€æœ‰ `setInterval` éƒ½åœ¨ cleanup ä¸­ `clearInterval`
- [ ] æ‰€æœ‰ `addEventListener` éƒ½åœ¨ cleanup ä¸­ `removeEventListener`
- [ ] æ‰€æœ‰ `subscribe` éƒ½åœ¨ cleanup ä¸­ `unsubscribe`
- [ ] æ‰€æœ‰ MediaStream éƒ½åœ¨ cleanup ä¸­è°ƒç”¨ `getTracks().forEach(t => t.stop())`
- [ ] æ‰€æœ‰ç¬¬ä¸‰æ–¹åº“å®ä¾‹éƒ½åœ¨ cleanup ä¸­ `destroy()`

### âœ… ä¾èµ–æ•°ç»„æ£€æŸ¥

- [ ] é¿å…åœ¨ä¾èµ–æ•°ç»„ä¸­æ”¾å…¥é¢‘ç¹å˜åŒ–çš„çŠ¶æ€
- [ ] ä½¿ç”¨ `useRef` + `useCallback` ç¨³å®šå‡½æ•°å¼•ç”¨
- [ ] ä½¿ç”¨ `useMemo` ç¨³å®šå¯¹è±¡å¼•ç”¨

---

## ğŸš€ æ¨èå·¥å…·

### 1. React DevTools Profiler

```bash
npm install -D @welldone-software/why-did-you-render
```

### 2. å†…å­˜æ³„æ¼æ£€æµ‹å·¥å…·

Chrome DevTools â†’ Memory â†’ Heap Snapshot

### 3. å¯ç”¨é¡¹ç›®å·²æœ‰çš„å·¥å…·

```typescript
// å·²æœ‰ä½†æœªå……åˆ†ä½¿ç”¨
import { resourceManager } from '@/utils/resource-manager';
import { errorHandler } from '@/utils/error-handler';

// å¼€å‘ç¯å¢ƒå¯ç”¨è‡ªåŠ¨æ¸…ç†
if (process.env.NODE_ENV === 'development') {
  resourceManager.enableAutoCleanup();
}
```

---

## ğŸ“Š é¢„æœŸä¿®å¤æ•ˆæœ

### Beforeï¼ˆä¿®å¤å‰ï¼‰

```
åˆ·æ–° 1 æ¬¡: 2 ä¸ª setTimeout + 1 ä¸ª callback
åˆ·æ–° 2 æ¬¡: 4 ä¸ª setTimeout + 2 ä¸ª callback
åˆ·æ–° 3 æ¬¡: 6 ä¸ª setTimeout + 3 ä¸ª callback
åˆ·æ–° 5 æ¬¡: 10 ä¸ª setTimeout + 5 ä¸ª callback  â† ä¸¥é‡ï¼
```

### Afterï¼ˆä¿®å¤åï¼‰

```
åˆ·æ–° 1 æ¬¡: 0 ä¸ªæ³„æ¼ï¼ˆå…¨éƒ¨æ¸…ç†ï¼‰âœ…
åˆ·æ–° 2 æ¬¡: 0 ä¸ªæ³„æ¼ï¼ˆå…¨éƒ¨æ¸…ç†ï¼‰âœ…
åˆ·æ–° 5 æ¬¡: 0 ä¸ªæ³„æ¼ï¼ˆå…¨éƒ¨æ¸…ç†ï¼‰âœ…
åˆ·æ–° 20 æ¬¡: 0 ä¸ªæ³„æ¼ï¼ˆå…¨éƒ¨æ¸…ç†ï¼‰âœ…
```

---

**ç«‹å³è¡ŒåŠ¨**: æˆ‘ä¼šå¸®ä½ ä¿®å¤ ad-carousel.tsx çš„ setTimeout æ³„æ¼é—®é¢˜ï¼

